'use strict';(function(e,d,l){if(e.JSON){var E=function(a,c){var b=(e.XMLHttpRequest?function(){return new e.XMLHttpRequest}:function(){return new e.ActiveXObject("Microsoft.XMLHTTP")})();b.open("GET",a,!0);b.onreadystatechange=function(){b&&4==b.readyState&&(200==b.status?c(null,e.JSON.parse(b.responseText)):c(b))};b.send({}.data||"");return b},m=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},x=function(a,c){var b;return function(){b&&
e.clearTimeout(b);b=e.setTimeout(a,c)}},y=function(a){return!a.metaKey&&!a.altKey&&!a.ctrlKey&&46<a.keyCode&&(112>a.keyCode||145<a.keyCode)&&(91>a.keyCode||95<a.keyCode)},h=function(a,c){var b=[];a.g&&b.push("g="+a.g);a.q&&!1!==c&&1<a.p+c&&b.push("p="+(a.p+c));a.q&&b.push("q="+encodeURIComponent(a.q).replace(/%20/g,"+"));return b.length?"/?"+b.join("&"):"/"},z=function(a){return a.q?a.q+" | Common Search":"Common Search"},A=d.getElementById("f"),g=d.getElementById("q"),F=d.getElementById("hits"),
r=d.getElementById("pager"),B=d.getElementById("dbg"),k=d.getElementById("g").childNodes[0],G=d.getElementsByTagName("title")[0],t=d.body.className,n=e.JSON.parse(A.getAttribute("data-init")||"{}"),f=n,p=null,u=function(){return{q:g.value.trim(),p:parseInt(r.getAttribute("data-page"),10)||1,g:k.value}},C=function(){"hits"!=t&&(t=d.body.className="hits")},v=function(){};e.history&&e.history.pushState&&(v=function(){var a=f,c=z(a);h(a,0)!=f&&e.history.pushState({s:a},c,h(a,!1));G.innerHTML=m(c);d.title=
c},e.history.state||e.history.replaceState({s:f},z(f),h(f,0)));var H=x(v,2E3),D=function(a,c){for(var b="",e=0;e<(c.h||[]).length;e++)var d=c.h[e],b=b+("<div class='r'><h3><a href='"+d.u+"'>"+m(d.t)+"</a></h3><div class='u'><a href='"+d.u+"'>"+d.u.replace(/(.*?:\/\/)(([^\/]+)(\/.+)?).*/,"$2").substring(0,100)+"</a></div><div class='s'>"+m(d.s)+"</div></div>");!b&&a.q&&(b="<div class='z'>We didn't find any results for this search, sorry!</div>");F.innerHTML=b;b="";a.a&&1<a.a&&(b='<a href="'+h(a,-1)+
'">&laquo; Previous</a>');c.c&&(b+='<a href="'+h(a,1)+'">Next &raquo;</a>');r.innerHTML=b;r.setAttribute("data-page",a.a);c.t?(b=c.t,B.innerHTML="Text: <span>"+b.tq+" / "+b.tr+"us</span><br/>Docs: <span>"+b.dq+" / "+b.dr+"us</span><br/>Total: <span>"+b.o+"us</span><br/>"):B.innerHTML=""},I=function(a,c){n=a;a.q?(C(),p&&p.abort(),p=E("/api/search"+h(a,0).substring(1),function(b,d){p=null;b||(d.r&&c?e.location=d.r:D(a,d))})):D(a,{})},q=function(a,c){f=u();a&&!c&&v();h(f,0)!=h(n,0)&&(a||c||"full"==t||
H(),f.p=1,I(f,a))},w=x(function(){q(!1,!1)},150);n.g||(k.value=((l.b?l.b[0]:l.language||(l||{}).userLanguage)||"en").substring(0,2).toLowerCase(),k.value||(k.value="en"));g.onkeydown=function(a){y(a)&&C();w();a.stopPropagation()};A.onsubmit=function(){q(!0,!1);return!1};g.onchange=function(){f.q!=u().q&&w()};g.onmouseup=g.onchange;d.body.onkeydown=function(a){y(a)&&(g.value=g.value.replace(/\s$/,"")+" ",g.focus(),e.scrollTo(0,0))};k.onchange=function(){f.g!=u().g&&w()};e.onpopstate=function(a){a.state&&
a.state.s&&(g.value=m(a.state.s.q),q(!0,!0))};q(!1,!1)}})(window,document,navigator);
